using GenShin_Launcher_Plus.ViewModels;
using GenShin_Launcher_Plus.Models;
using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.IO;
using System.Text;
using System.Windows;

namespace GenShin_Launcher_Plus.Core
{
    public class LoadProgramCore
    {

        private const string Lang_CN = "{\"LangVersion\":\"1.0.0.4\",\"Languages\":\"简体中文\",\"SaveBtn\":\"保存\",\"Error\":\"错误\",\"Determine\":\"确定\",\"Cancel\":\"取消\",\"TipsStr\":\"提醒\",\"LanguageSetTitle\":\"程序语言设置\",\"AboutStr\":\"注意，启动器涉及到注册表修改和文件替换，部分杀毒软\\r\\n件可能会报毒，为了客户端数据完整建议关闭杀软后再运行\\r\\n本程序完全开源，并不会将用户数据公布到网络，\\r\\n本启动器需要联网部分的代码仅为版本检测和公告获取\\r\\n\\r\\n\\r\\n编写：DawnFz (ねねだん)\\r\\n联系邮箱：admin@dawnfz.com\\r\\n技术支持：Lightczx（Github）【Snap.Genshin作者】\\r\\n您可以跳转到Github以获取本项目源代码\\r\\n\\r\\n\\r\\n————————本程序用到的代码及参考————————\\r\\n[Snap.Genshin]\\r\\n项目地址：https://github.com/DGP-Studio/Snap.Genshin \\r\\n\",\"MainTitle\":\"原神启动器Plus \",\"ScreenPathErr\":\"本功能为打开游戏内截图照相保存目录\\r\\n没有检测到照相文件或者请先输入正确的游戏路径！\",\"AboutTitle\":\"关于\",\"RunGameBtn\":\"开始游戏\",\"UserNameLab\":\"账号\",\"GamePortLab\":\"客户端\",\"UserNameStr\":\"账号\",\"GameClientStr\":\"客户端\",\"GameClientTypePStr\":\"官方服务器\",\"GameClientTypeBStr\":\"哔哩哔哩服\",\"GameClientTypeMStr\":\"国际服务器\",\"GameClientTypeNullStr\":\"未知客户端\",\"PathErrorMessageStr\":\"游戏路径不存在或者游戏路径错误！请检查重新设置后再试！\",\"AddUsersPageTitle\":\"保存上次登录的账号数据\",\"AddUsersPageSubTitle\":\"输入一个文件名以保存数据\",\"AddUsersPageTextboxTips\":\"请勿输入特殊符号\",\"AddUsersErrorMessageStr\":\"未选择帐户所属的服务器或未输入保存的名字，此保存将不会生效！\",\"SettingsTitle\":\"设置\",\"CloseBtn\":\"关闭\",\"HeightStr\":\"窗口高度\",\"WitdhStr\":\"窗口宽度\",\"AttachTitle\":\"窗口及分辨率\",\"UserListTitle\":\"选择使用的账号[可选]\",\"ClientSwitchTitle\":\"游戏客户端转换\",\"PathBoxTips\":\"在这里填写游戏目录[默认为Genshin Impact Game]\",\"DelUserBtn\":\"删除所选账号\",\"SwitchBtn\":\"转换\",\"BorderlessCkB\":\"采用无边框窗口启动\",\"UnlockFpsCkB\":\"解锁游戏内帧率上限\",\"FpsBoxTips\":\"帧上限\",\"BackgroundCkB\":\"不使用网络背景\",\"BackgroundXK\":\"使用寻空每日一图\",\"TimeStatusDefault\":\"状态：无状态\",\"TimeStatusUning\":\"状态：解压PKG资源文件中\",\"TimeStatusUpdate\":\"状态：PKG资源文件有更新\",\"TimeStatusCheck\":\"状态：请检查PKG文件是否存在\",\"TimeStatusUnErr\":\"状态：PKG解压失败，请检查PKG是否正常\",\"TimeStatusBaking\":\"状态：备份原始客户端中\",\"TimeStatusReping\":\"状态：正在替换新文件到客户端\",\"TimeStatusRecover\":\"状态：正在还原原始客户端文件\",\"TimeStatusCleaning\":\"状态：清理多余文件中\",\"GameSwitchLogStr\":\"PKG转换资源下载地址及访问密码: etxd\\r\\nhttps://pan.baidu.com/s/1-5zQoVfE7ImdXrn8OInKqg\\r\\n\",\"WindowMode\":\"窗口启动\",\"Fullscreen\":\"全屏启动\",\"GameDirMsg\":\"请选择游戏目录[默认为Genshin Impact Game]\",\"AdaptiveStr\":\"自适应屏幕分辨率\",\"SevereWarning\":\"严重警告\",\"SevereWarningStr\":\"此操作涉及修改游戏客户端进程，目前不知道确切会不会出现封号风险，出现问题请自行承担后果！如之前没使用过UnlockFPS的建议不要使用！按下同意代表使用本功能后的一切后果由自己承担！怕就不要用，用就不要怕！【注意：启用本功能后拉起游戏会慢一点，为正常现象】\",\"Warning\":\"警告\",\"WarningDAW\":\"您确定删除这个账号：\",\"ErrorSA\":\"请选中一个账号再使用本功能！\",\"ErrorEYJ\":\"在上面随便一个框填上想要的宽或者高另一个框留空使用本按钮自动取21:9比例分辨率\",\"WarningCCStr\":\"转换或还原将会执行重命名，替换，删除等操作修改客户端文件，该过程大概率会触发杀软报毒！为了防止客户端损坏导致不完整，执行前检查杀软（包括 Windows Defender）是否完全关闭或将本启动器加入白名单，并检查游戏是否彻底关闭，否则可能将导致客户端文件缺失！！\\r\\n\\r\\n提示：如游戏大版本更新时请执行还原转换为国内服使用游戏自带启动器更新！\",\"ErrorCPkgNF\":\"没有找到资源[CnFile.pkg]或解压失败，请检查Pkg文件是否和本应用处于同一目录\\r\\n\",\"ErrorGPkgNF\":\"没有找到资源[GlobalFile.pkg]或解压失败，请检查Pkg文件是否和本应用处于同一目录\\r\\n\",\"PkgNoUnError\":\"PKG文件不存在或解压失败\",\"NewPkgVer\":\"转换包有新版本，访问密码：etxd：\",\"ErrorFileNF\":\"文件不存在，启动器将尝试下一步操作，若无反应请重新下载资源文件！\",\"FileExist\":\"存在\",\"ErrorBakF\":\"备份失败：原因：\",\"BakSuccess\":\"备份成功\",\"BakFileNfSk\":\"文件不存在，备份失败，跳过\",\"RepSuccess\":\"替换成功\",\"SwitchSucessStr\":\"转换完毕，按下确定自动保存，尽情享受吧！~\",\"CleanedStr\":\"清理完毕\",\"CleanSkipStr\":\"文件不存在，已跳过\",\"RestoreSucess\":\"还原成功\",\"RestoreSkipStr\":\"不存在，跳过还原\",\"RestoreOverTipsStr\":\"还原完毕\",\"RestoreNum\":\"成功数\",\"RestoreErrNum\":\"失败数\",\"RestoreEndStr\":\"按下确定自动保存，尽情享受吧！~\",\"DownPageTips\":\"因CDN缓存问题下载可能会有点慢或者卡进度，请耐心等待\",\"UpdateSkipBtn\":\"暂不更新\",\"DownStartBtn\":\"开始更新\",\"DownFailedStr\":\"网络更新文件资源不存在或服务器网络错误\",\"RepWarnStr\":\"你正在进行更新操作，请勿重复操作\",\"DownloadComStr\":\"下载完成，是否现在进行更新操作\\r\\n确定后只需等待5秒将自动启动新版本\",\"DownProgress\":\"下载进度\",\"WelcomeTitle\":\"欢迎使用原神启动器Plus\",\"BootstrapTitle\":\"在开始前请先跟随引导熟悉一下使用方法和规范\",\"PathHintLabel\":\"游戏目录本体指Genshin Impact下的Genshin Impact Game目录\",\"FinalTipLabel\":\"输入或者点击右侧[···]按钮选择如上图所示的游戏目录\",\"GuideFinishBtn\":\"完成向导\",\"SaveAccountErr\":\"保存账号错误，请检查您的账号是否为已登录状态\",}";
        private const string Lang_TW = "{\"LangVersion\":\"1.0.0.4\",\"Languages\":\"繁體中文\",\"SaveBtn\":\"保存\",\"Error\":\"錯誤\",\"Determine\":\"確認\",\"Cancel\":\"取消\",\"TipsStr\":\"提醒\",\"LanguageSetTitle\":\"程序語言設置\",\"AboutStr\":\"注意，啟動器涉及到註冊表修改和文件替換，部分殺毒軟\\r\\n件可能會報毒，為了客戶端數據完整建議關閉殺軟後再運行\\r\\n本程序完全開源，並不會將用戶數據公佈到網絡，\\r\\n本啟動器需要聯網部分的代碼僅為版本檢測和公告獲取\\r\\n\\r\\n\\r\\n編寫：DawnFz (ねねだん)\\r\\n聯繫郵箱：admin@dawnfz.com\\r\\n技術支持：Lightczx（Github）【Snap.Genshin作者】\\r\\n您可以跳轉到Github以獲取本項目源代碼\\r\\n\\r\\n\\r\\n————————本程序用到的代碼及參考————————\\r\\n[Snap.Genshin]\\r\\n項目地址：https://github.com/DGP-Studio/Snap.Genshin \\r\\n\",\"MainTitle\":\"原神啟動器Plus \",\"ScreenPathErr\":\"本功能為打開遊戲內截圖照相保存目錄\\r\\n沒有檢測到照相文件或者請先輸入正確的遊戲路徑！\",\"AboutTitle\":\"關於\",\"RunGameBtn\":\"開始遊戲\",\"UserNameLab\":\"賬號\",\"GamePortLab\":\"客戶端\",\"UserNameStr\":\"賬號\",\"GameClientStr\":\"客戶端\",\"GameClientTypePStr\":\"官方服務器\",\"GameClientTypeBStr\":\"嗶哩嗶哩服\",\"GameClientTypeMStr\":\"國際服務器\",\"GameClientTypeNullStr\":\"未知客戶端\",\"PathErrorMessageStr\":\"遊戲路徑不存在或者遊戲路徑錯誤！請檢查重新設置後再試！\",\"AddUsersPageTitle\":\"保存上次登錄的賬號數據\",\"AddUsersPageSubTitle\":\"輸入一個文件名以保存數據\",\"AddUsersPageTextboxTips\":\"請勿輸入特殊符號\",\"AddUsersErrorMessageStr\":\"未選擇帳戶所屬的服務器或未輸入保存的名字，此保存將不會生效！\",\"SettingsTitle\":\"設置\",\"CloseBtn\":\"關閉\",\"HeightStr\":\"窗口高度\",\"WitdhStr\":\"窗口寬度\",\"AttachTitle\":\"窗口及分辨率\",\"UserListTitle\":\"選擇使用的賬號[可選]\",\"ClientSwitchTitle\":\"遊戲客戶端轉換\",\"PathBoxTips\":\"在這裡填寫遊戲目錄[默認為Genshin Impact Game]\",\"DelUserBtn\":\"刪除所選賬號\",\"SwitchBtn\":\"轉換\",\"BorderlessCkB\":\"採用無邊框窗口啟動\",\"UnlockFpsCkB\":\"解鎖遊戲內幀率上限\",\"FpsBoxTips\":\"幀上限\",\"BackgroundCkB\":\"不使用網絡背景\",\"BackgroundXK\":\"使用尋空每日一圖\",\"TimeStatusDefault\":\"狀態：無狀態\",\"TimeStatusUning\":\"狀態：解壓PKG資源文件中\",\"TimeStatusUpdate\":\"狀態：PKG資源文件有更新\",\"TimeStatusCheck\":\"狀態：請檢查PKG文件是否存在\",\"TimeStatusUnErr\":\"狀態：PKG解壓失敗，請檢查PKG是否正常\",\"TimeStatusBaking\":\"狀態：備份原始客戶端中\",\"TimeStatusReping\":\"狀態：正在替換新文件到客戶端\",\"TimeStatusRecover\":\"狀態：正在還原原始客戶端文件\",\"TimeStatusCleaning\":\"狀態：清理多余文件中\",\"GameSwitchLogStr\":\"PKG轉換資源下載地址及訪問密碼: etxd\\r\\nhttps://pan.baidu.com/s/1-5zQoVfE7ImdXrn8OInKqg\\r\\n\",\"WindowMode\":\"窗口啟動\",\"Fullscreen\":\"全屏啟動\",\"GameDirMsg\":\"請選擇遊戲目錄[默認為Genshin Impact Game]\",\"AdaptiveStr\":\"自適應屏幕分辨率\",\"SevereWarning\":\"嚴重警告\",\"SevereWarningStr\":\"此操作涉及修改遊戲客戶端進程，目前不知道確切會不會出現封號風險，出現問題請自行承擔後果！如之前沒使用過UnlockFPS的建議不要使用！按下同意代表使用本功能後的一切後果由自己承擔！怕就不要用，用就不要怕！【注意：啟用本功能後拉起遊戲會慢一點，為正常現象】\",\"Warning\":\"警告\",\"WarningDAW\":\"您確定刪除這個賬號：\",\"ErrorSA\":\"請選中一個賬號再使用本功能！\",\"ErrorEYJ\":\"在上面隨便一個框填上想要的寬或者高另一個框留空使用本按鈕自動取21:9比例分辨率\",\"WarningCCStr\":\"轉換或還原將會執行重命名，替換，刪除等操作修改客戶端文件，該過程大概率會觸發殺軟報毒！為了防止客戶端損壞導致不完整，執行前檢查殺軟（包括 Windows Defender）是否完全關閉或將本啟動器加入白名單，並檢查遊戲是否徹底關閉，否則可能將導致客戶端文件缺失！！\\r\\n\\r\\n提示：如游戲大版本更新時請執行還原轉換為國內服使用遊戲自帶啟動器更新！\",\"ErrorCPkgNF\":\"沒有找到資源[CnFile.pkg]或解壓失敗，請檢查Pkg文件是否和本應用處於同一目錄\\r\\n\",\"ErrorGPkgNF\":\"沒有找到資源[GlobalFile.pkg]或解壓失敗，請檢查Pkg文件是否和本應用處於同一目錄\\r\\n\",\"PkgNoUnError\":\"PKG文件不存在或解壓失敗\",\"NewPkgVer\":\"轉換包有新版本，訪問密碼：etxd：\",\"ErrorFileNF\":\"文件不存在，啟動器將嘗試下一步操作，若無反應請重新下載資源文件！\",\"FileExist\":\"存在\",\"ErrorBakF\":\"備份失敗：原因：\",\"BakSuccess\":\"備份成功\",\"BakFileNfSk\":\"文件不存在，備份失敗，跳過\",\"RepSuccess\":\"替換成功\",\"SwitchSucessStr\":\"轉換完畢，按下確定自動保存，盡情享受吧！~\",\"CleanedStr\":\"清理完畢\",\"CleanSkipStr\":\"文件不存在，已跳過\",\"RestoreSucess\":\"還原成功\",\"RestoreSkipStr\":\"不存在，跳過還原\",\"RestoreOverTipsStr\":\"還原完畢\",\"RestoreNum\":\"成功數\",\"RestoreErrNum\":\"失敗數\",\"RestoreEndStr\":\"按下確定自動保存，盡情享受吧！~\",\"DownPageTips\":\"因CDN緩存問題下載可能會有點慢或者卡進度，請耐心等待\",\"UpdateSkipBtn\":\"暫不更新\",\"DownStartBtn\":\"開始更新\",\"DownFailedStr\":\"網絡更新文件資源不存在或服務器網絡錯誤\",\"RepWarnStr\":\"你正在進行更新操作，請勿重複操作\",\"DownloadComStr\":\"下載完成，是否現在進行更新操作\\r\\n確定後只需等待5秒將自動啟動新版本\",\"DownProgress\":\"下載進度\",\"WelcomeTitle\":\"歡迎使用原神啟動器Plus\",\"BootstrapTitle\":\"在開始前請先跟隨引導熟悉一下使用方法和規範\",\"PathHintLabel\":\"遊戲目錄本體指Genshin Impact下的Genshin Impact Game目錄\",\"FinalTipLabel\":\"輸入或者點擊右側[···]按鈕選擇如上圖所示的遊戲目錄\",\"GuideFinishBtn\":\"完成嚮導\",\"SaveAccountErr\":\"保存賬號錯誤，請檢查您的遊戲賬戶是否為已登錄狀態\",}";
        private const string Lang_EN = "{\"LangVersion\":\"1.0.0.4\",\"Languages\":\"English\",\"SaveBtn\":\"Save\",\"Error\":\"Error\",\"Determine\":\"OK\",\"Cancel\":\"Cancel\",\"TipsStr\":\"Notice\",\"LanguageSetTitle\":\"Language\",\"AboutStr\":\"Warning, the launcher involves registry modification and file replacement, it might trigger the antivirus! To ensure the client files are integrity, completely close the antivirus before running, otherwise it may cause client files missing\\r\\nThis program is completely open source and will not collect user data.\\r\\nThe code in the networking section of this launcher is for version detection and announcement capturing only\\r\\n\\r\\n\\r\\nWriter: DawnFz(ねねだん)\\r\\nEmail: admin@dawnfz.com\\r\\nTechnical Support: Lightczx(Github)【Snap.Genshin Writer】\\r\\nVia Github to get the source code of this project\\r\\n\\r\\n\\r\\n————————Reference code used in this program————————\\r\\n[Snap.Genshin]\\r\\nProgram URL：https://github.com/DGP-Studio/Snap.Genshin\\r\\n\",\"MainTitle\":\"Genshin Launcher Plus \",\"ScreenPathErr\":\"This function is to open the in-game screenshot saving folder\\r\\nNo files detected or please enter the correct game path!\",\"AboutTitle\":\"About\",\"RunGameBtn\":\"Play\",\"UserNameLab\":\"Account\",\"GamePortLab\":\"Client\",\"UserNameStr\":\"Account\",\"GameClientStr\":\"Client\",\"GameClientTypePStr\":\"Official Server\",\"GameClientTypeBStr\":\"Bilibili Server\",\"GameClientTypeMStr\":\"International Server\",\"GameClientTypeNullStr\":\"Unknown Client\",\"PathErrorMessageStr\":\"The game path is wrong or does not exist! Please Check the settings and try again!\",\"AddUsersPageTitle\":\"Save the last login account data\",\"AddUsersPageSubTitle\":\"Enter a file name to save the data\",\"AddUsersPageTextboxTips\":\"Do not enter special symbols\",\"AddUsersErrorMessageStr\":\"No sever selected or No saved account entered, this will not take effect!\",\"SettingsTitle\":\"Settings\",\"CloseBtn\":\"Close\",\"HeightStr\":\"Window Height\",\"WitdhStr\":\"Window Width\",\"AttachTitle\":\"Display Settings\",\"UserListTitle\":\"Login Account[Optional]\",\"ClientSwitchTitle\":\"Game Client Conversion\",\"PathBoxTips\":\"Enter the game path here[Usually Genshin Impact Game]\",\"DelUserBtn\":\"Delete selected account\",\"SwitchBtn\":\"Convert\",\"BorderlessCkB\":\"Borderless window\",\"UnlockFpsCkB\":\"Unlock FPS limit\",\"FpsBoxTips\":\"FPS Cap\",\"BackgroundCkB\":\"Do not use backgrounds from the internet\",\"BackgroundXK\":\"Daily Background\",\"TimeStatusDefault\":\"Status：NO status\",\"TimeStatusUning\":\"Status: Extracting PKG resource file\",\"TimeStatusUpdate\":\"Status: PKG resource files can be updated\",\"TimeStatusCheck\":\"Status: Please ensure PKG resource file exists\",\"TimeStatusUnErr\":\"Status: PKG resource file extract faild，please ensure PKG resource file is complete\",\"TimeStatusBaking\":\"Status: Backing up the original client\",\"TimeStatusReping\":\"Status: Replacing new files to the client\",\"TimeStatusRecover\":\"Status: Restoring original files to the client\",\"TimeStatusCleaning\":\"Status: Cleaning files\",\"GameSwitchLogStr\":\"PKG resource file download URL & access password: etxd\\r\\nhttps://pan.baidu.com/s/1-5zQoVfE7ImdXrn8OInKqg\\r\\n\",\"WindowMode\":\"Window\",\"Fullscreen\":\"Fullscreen\",\"GameDirMsg\":\"Please select the game path[Usually Genshin Impact Game]\",\"AdaptiveStr\":\"Adaptive screen resolution\",\"SevereWarning\":\"Serious Warning\",\"SevereWarningStr\":\" This act involves modifying the process of a game client, and it is unknown whether the game account will thus be banned. You have to accept the consequences of any problems！It is not recommended if you never used UnlockFPS before! Clicking “Agree” means that tyou will be responsible for any consequence caused by using this feature!【Attention: This may cause game startup speed slowed down】\",\"Warning\":\"Warning\",\"WarningDAW\":\"Are you sure to delete this account: \",\"ErrorSA\":\"Please select an account before using!\",\"ErrorEYJ\":\"Fill in the width or height in any boxes above, press this button to automatically take 21:9 ratio resolution\",\"WarningCCStr\":\"Replacing or restoring will cause rename, replace, delete and other operations, the process might trigger the antivirus! To ensure the client files are integrity,  completely close the antivirus (Including Windows Defender) before running, otherwise it may cause client files missing！！\\r\\n\\r\\nTips: When the game is to be updated, please restore and update with the game's own launcher!!\",\"ErrorCPkgNF\":\"Resource file does not exist[CnFile.pkg]or extract failed, please ensure PKG resource file and this launcher are in the same folder\\r\\n\",\"ErrorGPkgNF\":\"Resource file does not exist[GlobalFile.pkg]or extract failed, please ensure PKG resource file and this launcher are in the same folder\\r\\n\",\"PkgNoUnError\":\"PKG resource file does not exist or extract failed\",\"NewPkgVer\":\"New versions of PKG resource file are available, access password: etxd: \",\"ErrorFileNF\":\"File does not exist, the launcher will try the next step, if there is no response please download the resource file again!\",\"FileExist\":\"Exist\",\"ErrorBakF\":\"Backup failed: Reason：\",\"BakSuccess\":\"Backup successful\",\"BakFileNfSk\":\"File does not exist, Backup failed, skip\",\"RepSuccess\":\" Replacement completed\",\"SwitchSucessStr\":\"Replacement complete, press OK to save automatically, have fun! ^_^\",\"CleanedStr\":\"Cleaned\",\"CleanSkipStr\":\"File does not exist, skip\",\"RestoreSucess\":\"Replacement completed\",\"RestoreSkipStr\":\"Does not exist, skip restoring\",\"RestoreOverTipsStr\":\"Restore finished\",\"RestoreNum\":\"Number of successes\",\"RestoreErrNum\":\"Number of failures\",\"RestoreEndStr\":\"Press OK to save automatically, have fun! ^_^\",\"DownPageTips\":\"CDN cache problems may cause slow download speed or progress getting stuck, please wait patiently\",\"UpdateSkipBtn\":\"Do not update\",\"DownStartBtn\":\"Start Updating\",\"DownFailedStr\":\"Resource file does not exist or server network error\",\"RepWarnStr\":\"Updating, please do not repeat operations\",\"DownloadComStr\":\"Download completed, to update or not\\r\\nThe new version will be launched automatically after confirm in 5 seconds\",\"DownProgress\":\"Download Progress\",\"WelcomeTitle\":\"Welcome to Genshin Launcher Plus\",\"BootstrapTitle\":\"Please follow the guide before start\",\"PathHintLabel\":\"Game path refers to Genshin Impact Game file under Genshin Impact\",\"FinalTipLabel\":\"Enter or right click[···]button to select the game path\",\"GuideFinishBtn\":\"Let's Go\",\"SaveAccountErr\":\"Error saving account, please check if your account is logged in\",}";

        public void LoadLanguageCore(string langfile)
        {
            //从JSON字符串生成集合对象用于存放语言包列表
            string json = "[{\"LangID\":\"0001\",\"LangVersion\":\"1.0.0.4\",\"LangName\":\"简体中文\",\"LangFileName\":\"Lang_CN\"},{\"LangID\":\"0002\",\"LangVersion\":\"1.0.0.4\",\"LangName\":\"繁体中文\",\"LangFileName\":\"Lang_TW\"},{\"LangID\":\"0003\",\"LangVersion\":\"1.0.0.4\",\"LangName\":\"English\",\"LangFileName\":\"Lang_EN\"}]";
            MainBase.langlist = JsonConvert.DeserializeObject<List<LanguageListsModel>>(json);
            string langjson;
            switch (langfile)
            {
                case "Lang_CN":
                    langjson = Lang_CN;
                    break;
                case "Lang_TW":
                    langjson = Lang_TW;
                    break;
                case "Lang_EN":
                    langjson = Lang_EN;
                    break;
                default:
                    langjson = Lang_CN;
                    break;
            }
            MainBase.lang = JsonConvert.DeserializeObject<LanguagesModel>(langjson);
        }
        public void LoadUpdateCore()
        {
            FilesControl fc = new();
            if (MainBase.IniModel.ReadLang != "Lang_CN"&& MainBase.IniModel.ReadLang!=null)
            {
                string json = fc.GetJsonFromHtml("UpdateGlobal");
                MainBase.update = JsonConvert.DeserializeObject<UpdateContentModel>(json);
            }
            else
            {
                string json = fc.GetJsonFromHtml("UpdateCN");
                MainBase.update = JsonConvert.DeserializeObject<UpdateContentModel>(json);
            }
        }
    }
}
